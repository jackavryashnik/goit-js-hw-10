{"version":3,"file":"commonHelpers3.js","sources":["../src/js/01-timer.js","../src/js/02-snackbar.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'https://cdn.jsdelivr.net/npm/izitoast@1/+esm';\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n  },\n};\n\nconst dateInput = document.querySelector('#datetime-picker');\nconst dateBtn = document.querySelector('button[data-start]');\nconst values = document.querySelectorAll('.value');\nlet userSelectedDate;\nlet intervalId;\n\ndateBtn.setAttribute('disabled', '');\ndateBtn.addEventListener('click', () => {\n  setTimer();\n  intervalId = setInterval(setTimer, 1000);\n});\n\nflatpickr(dateInput, options);\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nconst addLeadingZero = value => value.padStart(2, '0');\n\nfunction isDateValid() {\n  userSelectedDate = new Date(dateInput.value);\n\n  if (userSelectedDate <= Date.now()) {\n    dateBtn.setAttribute('disabled', '');\n      iziToast.error({\n        timeout: 5000,\n        position: 'topRight',\n        title: 'Error',\n        message: 'Please choose a date in the future'\n    });\n  } else {\n    dateBtn.removeAttribute('disabled');\n  }\n}\n\nfunction setTimer() {\n  const timeObj = convertMs(userSelectedDate - Date.now());\n  const objKeys = Object.keys(timeObj);\n  for (let i = 0; i < objKeys.length; i++) {\n    values[i].innerHTML = addLeadingZero(String(timeObj[objKeys[i]]));\n  }\n  if (userSelectedDate <= Date.now()) {\n    clearInterval(intervalId);\n  }\n}\n\ndateInput.addEventListener('input', isDateValid);\n","import iziToast from 'https://cdn.jsdelivr.net/npm/izitoast@1/+esm';\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  let delayInput = document.querySelector('input[name=\"delay\"]');\n  let delay = delayInput.value;\n  showToast(delay);\n  delayInput.value = '';\n});\n\nfunction createPromise(fulfilled, rejected) {\n  if (fulfilled) {\n    return Promise.resolve('Fulfilled');\n  } else if (rejected) {\n    return Promise.reject('Rejected');\n  }\n}\n\nfunction showToast(delay) {\n  const fulfilled = document.querySelector('input[value=\"fulfilled\"]').checked;\n  const rejected = document.querySelector('input[value=\"rejected\"]').checked;\n\n  setTimeout(() => {\n    createPromise(fulfilled, rejected)\n      .then(() =>\n        iziToast.success({\n          icon: '',\n          timeout: 5000,\n          position: 'topRight',\n          message: `✅ Fulfilled promise in ${delay}ms`,\n        })\n      )\n      .catch(() =>\n        iziToast.error({\n          icon: '',\n          timeout: 5000,\n          position: 'topRight',\n          message: `❌ Rejected promise in ${delay}ms`,\n        })\n      );\n  }, delay);\n}\n"],"names":["options","selectedDates","dateInput","dateBtn","values","userSelectedDate","intervalId","setTimer","flatpickr","convertMs","ms","days","hours","minutes","seconds","addLeadingZero","value","isDateValid","iziToast","timeObj","objKeys","i","form","event","delayInput","delay","showToast","createPromise","fulfilled","rejected"],"mappings":"kzBAIA,MAAMA,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,EAAE,CAC7B,CACH,EAEMC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAS,SAAS,iBAAiB,QAAQ,EACjD,IAAIC,EACAC,EAEJH,EAAQ,aAAa,WAAY,EAAE,EACnCA,EAAQ,iBAAiB,QAAS,IAAM,CACtCI,IACAD,EAAa,YAAYC,EAAU,GAAI,CACzC,CAAC,EAEDC,EAAUN,EAAWF,CAAO,EAE5B,SAASS,EAAUC,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,MAAMC,EAAiBC,GAASA,EAAM,SAAS,EAAG,GAAG,EAErD,SAASC,GAAc,CACrBZ,EAAmB,IAAI,KAAKH,EAAU,KAAK,EAEvCG,GAAoB,KAAK,OAC3BF,EAAQ,aAAa,WAAY,EAAE,EACjCe,EAAS,MAAM,CACb,QAAS,IACT,SAAU,WACV,MAAO,QACP,QAAS,oCACjB,CAAK,GAEDf,EAAQ,gBAAgB,UAAU,CAEtC,CAEA,SAASI,GAAW,CAClB,MAAMY,EAAUV,EAAUJ,EAAmB,KAAK,IAAK,CAAA,EACjDe,EAAU,OAAO,KAAKD,CAAO,EACnC,QAASE,EAAI,EAAGA,EAAID,EAAQ,OAAQC,IAClCjB,EAAOiB,GAAG,UAAYN,EAAe,OAAOI,EAAQC,EAAQC,GAAG,CAAC,EAE9DhB,GAAoB,KAAK,OAC3B,cAAcC,CAAU,CAE5B,CAEAJ,EAAU,iBAAiB,QAASe,CAAW,EC1E/C,MAAMK,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EACpB,IAAIC,EAAa,SAAS,cAAc,qBAAqB,EACzDC,EAAQD,EAAW,MACvBE,EAAUD,CAAK,EACfD,EAAW,MAAQ,EACrB,CAAC,EAED,SAASG,EAAcC,EAAWC,EAAU,CAC1C,GAAID,EACF,OAAO,QAAQ,QAAQ,WAAW,EAC7B,GAAIC,EACT,OAAO,QAAQ,OAAO,UAAU,CAEpC,CAEA,SAASH,EAAUD,EAAO,CACxB,MAAMG,EAAY,SAAS,cAAc,0BAA0B,EAAE,QAC/DC,EAAW,SAAS,cAAc,yBAAyB,EAAE,QAEnE,WAAW,IAAM,CACfF,EAAcC,EAAWC,CAAQ,EAC9B,KAAK,IACJX,EAAS,QAAQ,CACf,KAAM,GACN,QAAS,IACT,SAAU,WACV,QAAS,0BAA0BO,KAC7C,CAAS,CACF,EACA,MAAM,IACLP,EAAS,MAAM,CACb,KAAM,GACN,QAAS,IACT,SAAU,WACV,QAAS,yBAAyBO,KAC5C,CAAS,CACT,CACG,EAAEA,CAAK,CACV"}